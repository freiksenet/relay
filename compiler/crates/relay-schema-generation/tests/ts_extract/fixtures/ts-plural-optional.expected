==================================== INPUT ====================================
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


//extract
function plural_string(user: User): Array<string> {}

//extract
function plural_optional_string(user: User): Array<string | null | undefined> {}

//extract
function optional_plural_string(user: User): Array<string> | null | undefined {}

//extract
function optional_plural_optional_string(user: User): Array<string | null | undefined> | null | undefined {}

function ignored(user: User): Array<string | null | undefined> | null | undefined {}

// Multiple top comments
// this another
function ignored(user: User): Array<string | null | undefined> | null | undefined {}
==================================== OUTPUT ===================================
Strong(
    FieldData {
        field_name: WithLocation {
            location: <generated>:212:225,
            item: "plural_string",
        },
        return_type: TsTypeRef(
            TsTypeRef {
                span: 240..253,
                type_name: Ident(
                    Ident {
                        span: 240..245,
                        ctxt: #0,
                        sym: "Array",
                        optional: false,
                    },
                ),
                type_params: Some(
                    TsTypeParamInstantiation {
                        span: 245..253,
                        params: [
                            TsKeywordType(
                                TsKeywordType {
                                    span: 246..252,
                                    kind: TsStringKeyword,
                                },
                            ),
                        ],
                    },
                ),
            },
        ),
        entity_type: Some(
            TsTypeRef(
                TsTypeRef {
                    span: 233..237,
                    type_name: Ident(
                        Ident {
                            span: 233..237,
                            ctxt: #0,
                            sym: "User",
                            optional: false,
                        },
                    ),
                    type_params: None,
                },
            ),
        ),
        arguments: None,
        is_live: None,
    },
)

Strong(
    FieldData {
        field_name: WithLocation {
            location: <generated>:276:298,
            item: "plural_optional_string",
        },
        return_type: TsTypeRef(
            TsTypeRef {
                span: 313..345,
                type_name: Ident(
                    Ident {
                        span: 313..318,
                        ctxt: #0,
                        sym: "Array",
                        optional: false,
                    },
                ),
                type_params: Some(
                    TsTypeParamInstantiation {
                        span: 318..345,
                        params: [
                            TsUnionOrIntersectionType(
                                TsUnionType(
                                    TsUnionType {
                                        span: 319..344,
                                        types: [
                                            TsKeywordType(
                                                TsKeywordType {
                                                    span: 319..325,
                                                    kind: TsStringKeyword,
                                                },
                                            ),
                                            TsKeywordType(
                                                TsKeywordType {
                                                    span: 328..332,
                                                    kind: TsNullKeyword,
                                                },
                                            ),
                                            TsKeywordType(
                                                TsKeywordType {
                                                    span: 335..344,
                                                    kind: TsUndefinedKeyword,
                                                },
                                            ),
                                        ],
                                    },
                                ),
                            ),
                        ],
                    },
                ),
            },
        ),
        entity_type: Some(
            TsTypeRef(
                TsTypeRef {
                    span: 306..310,
                    type_name: Ident(
                        Ident {
                            span: 306..310,
                            ctxt: #0,
                            sym: "User",
                            optional: false,
                        },
                    ),
                    type_params: None,
                },
            ),
        ),
        arguments: None,
        is_live: None,
    },
)

Strong(
    FieldData {
        field_name: WithLocation {
            location: <generated>:368:390,
            item: "optional_plural_string",
        },
        return_type: TsUnionOrIntersectionType(
            TsUnionType(
                TsUnionType {
                    span: 405..437,
                    types: [
                        TsTypeRef(
                            TsTypeRef {
                                span: 405..418,
                                type_name: Ident(
                                    Ident {
                                        span: 405..410,
                                        ctxt: #0,
                                        sym: "Array",
                                        optional: false,
                                    },
                                ),
                                type_params: Some(
                                    TsTypeParamInstantiation {
                                        span: 410..418,
                                        params: [
                                            TsKeywordType(
                                                TsKeywordType {
                                                    span: 411..417,
                                                    kind: TsStringKeyword,
                                                },
                                            ),
                                        ],
                                    },
                                ),
                            },
                        ),
                        TsKeywordType(
                            TsKeywordType {
                                span: 421..425,
                                kind: TsNullKeyword,
                            },
                        ),
                        TsKeywordType(
                            TsKeywordType {
                                span: 428..437,
                                kind: TsUndefinedKeyword,
                            },
                        ),
                    ],
                },
            ),
        ),
        entity_type: Some(
            TsTypeRef(
                TsTypeRef {
                    span: 398..402,
                    type_name: Ident(
                        Ident {
                            span: 398..402,
                            ctxt: #0,
                            sym: "User",
                            optional: false,
                        },
                    ),
                    type_params: None,
                },
            ),
        ),
        arguments: None,
        is_live: None,
    },
)

Strong(
    FieldData {
        field_name: WithLocation {
            location: <generated>:460:491,
            item: "optional_plural_optional_string",
        },
        return_type: TsUnionOrIntersectionType(
            TsUnionType(
                TsUnionType {
                    span: 506..557,
                    types: [
                        TsTypeRef(
                            TsTypeRef {
                                span: 506..538,
                                type_name: Ident(
                                    Ident {
                                        span: 506..511,
                                        ctxt: #0,
                                        sym: "Array",
                                        optional: false,
                                    },
                                ),
                                type_params: Some(
                                    TsTypeParamInstantiation {
                                        span: 511..538,
                                        params: [
                                            TsUnionOrIntersectionType(
                                                TsUnionType(
                                                    TsUnionType {
                                                        span: 512..537,
                                                        types: [
                                                            TsKeywordType(
                                                                TsKeywordType {
                                                                    span: 512..518,
                                                                    kind: TsStringKeyword,
                                                                },
                                                            ),
                                                            TsKeywordType(
                                                                TsKeywordType {
                                                                    span: 521..525,
                                                                    kind: TsNullKeyword,
                                                                },
                                                            ),
                                                            TsKeywordType(
                                                                TsKeywordType {
                                                                    span: 528..537,
                                                                    kind: TsUndefinedKeyword,
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ),
                                        ],
                                    },
                                ),
                            },
                        ),
                        TsKeywordType(
                            TsKeywordType {
                                span: 541..545,
                                kind: TsNullKeyword,
                            },
                        ),
                        TsKeywordType(
                            TsKeywordType {
                                span: 548..557,
                                kind: TsUndefinedKeyword,
                            },
                        ),
                    ],
                },
            ),
        ),
        entity_type: Some(
            TsTypeRef(
                TsTypeRef {
                    span: 499..503,
                    type_name: Ident(
                        Ident {
                            span: 499..503,
                            ctxt: #0,
                            sym: "User",
                            optional: false,
                        },
                    ),
                    type_params: None,
                },
            ),
        ),
        arguments: None,
        is_live: None,
    },
)
